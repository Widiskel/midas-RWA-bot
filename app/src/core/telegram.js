function a3_0x2b37() {
  const _0x4606ef = [
    "delay",
    "readQueryFile",
    "midascoinbot",
    "Old\x20Query\x20:\x20",
    "386090OnefIq",
    "getSession",
    "initWebView",
    "length",
    "Invalid\x20input,\x20Please\x20try\x20again",
    "saveQueryFile",
    "377406TNGxPQ",
    "android",
    "<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:",
    "createDir",
    "error",
    "Please\x20Enter\x20Telegram\x20Query\x20:\x20",
    "You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first",
    "resetAccounts",
    "onBoarding",
    "seconds",
    "7FfDnEy",
    "Your\x20Account\x20List\x20:\x0a\x20\x0a",
    "44HFsIbi",
    "client",
    "init",
    "storeSession",
    "\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20",
    "Invalid\x20Input",
    "start",
    "bot",
    "Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first",
    "exit",
    "69923flvGjT",
    "\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again",
    "agent",
    "text",
    "\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:",
    "peer",
    "1248570YVZAok",
    "useSession",
    "TELEGRAM_APP_ID",
    "messages",
    "<empty>",
    "log",
    "getTelegramQuery",
    "Enter\x20your\x20Telegram\x20Verification\x20Code\x20?",
    "31245VQhBzb",
    "\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:",
    "\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20",
    "serverAddress",
    "Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a",
    "resolvePeer",
    "disconnect",
    "\x20-\x20Resolving\x20Peer",
    "\x20|\x20FloodWait\x20",
    "filter",
    "\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a",
    "91020enmALH",
    "accountName",
    "session",
    "<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:",
    "Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a",
    "info",
    "Session\x20",
    "accountType",
    "<empty>\x0a",
    "queryModificaiton",
    "sessionCreation",
    "proxy",
    "\x20-\x20Webview\x20Connected",
    "warn",
    "TELEGRAM_APP_HASH",
    "save",
    "https://tonmidas.fun/",
    "\x20-\x20Created",
    "queryCreation",
    "indexOf",
    "68JDxaOl",
    "accounts",
    "Enter\x20your\x20Telegram\x20Password?",
    "message",
    "getEntity",
    "40TuNFiq",
    "invoke",
    "833058DglVJW",
    "query",
    "Query\x20",
    "\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:",
    "url",
  ];
  a3_0x2b37 = function () {
    return _0x4606ef;
  };
  return a3_0x2b37();
}
const a3_0x1b831e = a3_0x564d;
(function (_0x2f1588, _0x1103b8) {
  const _0x4ffbe8 = a3_0x564d,
    _0x393c3d = _0x2f1588();
  while (!![]) {
    try {
      const _0x480b50 =
        -parseInt(_0x4ffbe8(0x1df)) / 0x1 +
        -parseInt(_0x4ffbe8(0x213)) / 0x2 +
        parseInt(_0x4ffbe8(0x1f8)) / 0x3 +
        (-parseInt(_0x4ffbe8(0x20c)) / 0x4) *
          (-parseInt(_0x4ffbe8(0x1ed)) / 0x5) +
        (-parseInt(_0x4ffbe8(0x1e5)) / 0x6) *
          (-parseInt(_0x4ffbe8(0x1d3)) / 0x7) +
        (-parseInt(_0x4ffbe8(0x211)) / 0x8) *
          (-parseInt(_0x4ffbe8(0x1c9)) / 0x9) +
        (-parseInt(_0x4ffbe8(0x1c3)) / 0xa) *
          (-parseInt(_0x4ffbe8(0x1d5)) / 0xb);
      if (_0x480b50 === _0x1103b8) break;
      else _0x393c3d["push"](_0x393c3d["shift"]());
    } catch (_0x4ebfe2) {
      _0x393c3d["push"](_0x393c3d["shift"]());
    }
  }
})(a3_0x2b37, 0x36472);
function a3_0x564d(_0x13d45e, _0x4d7d7c) {
  const _0x2b370a = a3_0x2b37();
  return (
    (a3_0x564d = function (_0x564d7c, _0x17b09f) {
      _0x564d7c = _0x564d7c - 0x1c2;
      let _0x1ce09c = _0x2b370a[_0x564d7c];
      return _0x1ce09c;
    }),
    a3_0x564d(_0x13d45e, _0x4d7d7c)
  );
}
import a3_0x183602 from "input";
import { Helper } from "../utils/helper.js";
import { Api, TelegramClient } from "telegram";
import { StoreSession } from "telegram/sessions/StoreSession.js";
import a3_0x179fd6 from "../utils/logger.js";
import { FloodWaitError } from "telegram/errors/RPCErrorList.js";
import { Config } from "../../config/config.js";
import { HttpsProxyAgent } from "https-proxy-agent";
export class Telegram {
  ["storeSession"];
  constructor() {
    const _0x524d50 = a3_0x564d;
    (this[_0x524d50(0x1f9)] = _0x524d50(0x20d)),
      (this[_0x524d50(0x217)] = _0x524d50(0x208)),
      (this[_0x524d50(0x1dc)] = _0x524d50(0x21a));
  }
  async [a3_0x1b831e(0x1d7)]() {
    const _0x5c3722 = a3_0x1b831e;
    try {
      await this[_0x5c3722(0x1d1)]();
    } catch (_0x42bf52) {
      console[_0x5c3722(0x1ea)](_0x42bf52),
        a3_0x179fd6["error"]("" + JSON["stringify"](_0x42bf52));
      throw _0x42bf52;
    }
  }
  async [a3_0x1b831e(0x1d1)]() {
    const _0x5d4b54 = a3_0x1b831e;
    try {
      let _0x219796 = _0x5d4b54(0x1f1);
      const _0x5665e3 = Helper["getSession"](_0x5d4b54(0x20d));
      if (_0x5665e3[_0x5d4b54(0x1c6)] == 0x0) _0x219796 += _0x5d4b54(0x1e9);
      else
        for (const _0x602991 of _0x5665e3) {
          _0x219796 += "-\x20" + _0x602991 + "\x0a";
        }
      (_0x219796 += _0x5d4b54(0x1f7)),
        (_0x219796 +=
          "\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:");
      const _0x27bd50 = await a3_0x183602["text"](_0x219796);
      if (_0x27bd50 == 0x1) await this[_0x5d4b54(0x1ff)]();
      else {
        if (_0x27bd50 == 0x2)
          Helper[_0x5d4b54(0x1d0)](),
            await Helper[_0x5d4b54(0x218)](0xbb8),
            await this[_0x5d4b54(0x1d1)]();
        else {
          if (_0x27bd50 == 0x3)
            Helper[_0x5d4b54(0x1c4)](this[_0x5d4b54(0x1f9)])?.[
              _0x5d4b54(0x1c6)
            ] == 0x0 &&
              (console[_0x5d4b54(0x1fd)](_0x5d4b54(0x1cf)),
              await this[_0x5d4b54(0x1d1)]());
          else
            _0x27bd50 == 0x4
              ? await this[_0x5d4b54(0x201)]()
              : (console[_0x5d4b54(0x1cd)](_0x5d4b54(0x1c7)),
                await this[_0x5d4b54(0x1d1)]());
        }
      }
    } catch (_0x351eea) {
      throw _0x351eea;
    }
  }
  async [a3_0x1b831e(0x201)]() {
    const _0x14b013 = a3_0x1b831e;
    try {
      const _0x3d0e2c = Helper[_0x14b013(0x1c4)](_0x14b013(0x20d)),
        _0xfecf08 = _0x3d0e2c[_0x14b013(0x1f6)]((_0x46c6ee) =>
          _0x46c6ee["includes"](_0x14b013(0x214))
        );
      let _0x2a9924 = _0x14b013(0x1fc);
      for (const _0x505d19 of _0xfecf08) {
        _0x2a9924 +=
          _0x3d0e2c[_0x14b013(0x20b)](_0x505d19) +
          0x1 +
          ".\x20" +
          _0x505d19 +
          "\x0a";
      }
      _0xfecf08[_0x14b013(0x1c6)] == 0x0
        ? (console[_0x14b013(0x1ea)](
            "You\x20dont\x20have\x20any\x20Query\x20Account."
          ),
          await this[_0x14b013(0x1d1)]())
        : (_0x2a9924 += _0x14b013(0x216));
      const _0x22b78a = await a3_0x183602[_0x14b013(0x1e2)](_0x2a9924);
      if (_0xfecf08[_0x22b78a - 0x1] != undefined) {
        const _0x29349d = _0xfecf08[_0x22b78a - 0x1];
        this[_0x14b013(0x1f9)] = "accounts/" + _0x29349d;
        const _0xa0a69d =
            _0x14b013(0x1c2) +
            Helper[_0x14b013(0x219)](this[_0x14b013(0x1f9)] + "/query.txt") +
            _0x14b013(0x1ef),
          _0x49e291 = await a3_0x183602[_0x14b013(0x1e2)](_0xa0a69d);
        await Helper[_0x14b013(0x1c8)](this[_0x14b013(0x1f9)], _0x49e291),
          await Helper["delay"](0xbb8),
          await this["onBoarding"]();
      } else
        console[_0x14b013(0x1cd)](_0x14b013(0x1c7)),
          await this[_0x14b013(0x201)]();
    } catch (_0x2763de) {
      throw _0x2763de;
    }
  }
  async ["sessionCreation"]() {
    const _0x152ecf = a3_0x1b831e;
    try {
      if (
        Config[_0x152ecf(0x1e7)] == undefined ||
        Config["TELEGRAM_APP_HASH"] == undefined
      )
        throw new Error(_0x152ecf(0x1dd));
      const _0x556fc7 = Helper[_0x152ecf(0x1c4)]("accounts");
      let _0x5b7a12 = _0x152ecf(0x1d4);
      for (const _0x1a6ac7 of _0x556fc7) {
        _0x5b7a12 +=
          _0x556fc7[_0x152ecf(0x20b)](_0x1a6ac7) +
          0x1 +
          ".\x20" +
          _0x1a6ac7 +
          "\x0a";
      }
      _0x556fc7[_0x152ecf(0x1c6)] == 0x0
        ? (_0x5b7a12 += _0x152ecf(0x1cb))
        : (_0x5b7a12 += _0x152ecf(0x1ee));
      const _0x4eed11 = await a3_0x183602[_0x152ecf(0x1e2)](_0x5b7a12);
      (this[_0x152ecf(0x1f9)] = Helper[_0x152ecf(0x1cc)](
        "sessions-" + _0x4eed11
      )),
        await this[_0x152ecf(0x1e6)](this[_0x152ecf(0x1f9)]),
        await this[_0x152ecf(0x1f3)](),
        a3_0x179fd6[_0x152ecf(0x1fd)](
          _0x152ecf(0x1fe) + this[_0x152ecf(0x1f9)] + _0x152ecf(0x209)
        ),
        console[_0x152ecf(0x1ea)](
          _0x152ecf(0x1fe) + _0x4eed11 + _0x152ecf(0x1e0)
        ),
        this[_0x152ecf(0x1d8)][_0x152ecf(0x207)](),
        await Helper["delay"](0xbb8),
        process[_0x152ecf(0x1de)]();
    } catch (_0x412b73) {
      throw _0x412b73;
    }
  }
  async ["queryCreation"]() {
    const _0x428f7d = a3_0x1b831e;
    try {
      const _0x2db9b9 = Helper[_0x428f7d(0x1c4)](_0x428f7d(0x20d));
      let _0x485279 = _0x428f7d(0x1d4);
      for (const _0xd02a04 of _0x2db9b9) {
        _0x485279 +=
          _0x2db9b9[_0x428f7d(0x20b)](_0xd02a04) +
          0x1 +
          ".\x20" +
          _0xd02a04 +
          "\x0a";
      }
      _0x2db9b9[_0x428f7d(0x1c6)] == 0x0
        ? (_0x485279 += _0x428f7d(0x1fb))
        : (_0x485279 += _0x428f7d(0x1e3));
      const _0x4e7997 = await a3_0x183602[_0x428f7d(0x1e2)](_0x485279);
      this[_0x428f7d(0x1f9)] = Helper[_0x428f7d(0x1cc)]("query-" + _0x4e7997);
      let _0x32f680 = _0x428f7d(0x1ce);
      const _0x1309df = await a3_0x183602[_0x428f7d(0x1e2)](_0x32f680);
      await Helper["saveQueryFile"](this["accountName"], _0x1309df),
        a3_0x179fd6[_0x428f7d(0x1fd)](
          _0x428f7d(0x215) + this[_0x428f7d(0x1f9)] + _0x428f7d(0x209)
        ),
        console[_0x428f7d(0x1ea)](
          "Query\x20" +
            _0x4e7997 +
            "\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again"
        ),
        await Helper["delay"](0xbb8),
        process["exit"]();
    } catch (_0x13b675) {
      throw _0x13b675;
    }
  }
  async [a3_0x1b831e(0x1ff)]() {
    const _0x43cad4 = a3_0x1b831e;
    try {
      const _0x38df82 = Helper[_0x43cad4(0x1c4)](_0x43cad4(0x20d));
      let _0x46cf67 = "Your\x20Account\x20List\x20:\x0a\x20\x0a";
      if (_0x38df82[_0x43cad4(0x1c6)] > 0x0)
        for (const _0x28ddc3 of _0x38df82) {
          _0x46cf67 +=
            _0x38df82["indexOf"](_0x28ddc3) +
            0x1 +
            ".\x20" +
            _0x28ddc3 +
            "\x0a";
        }
      else _0x46cf67 += _0x43cad4(0x200);
      _0x46cf67 += _0x43cad4(0x1d9);
      const _0x46655d = await a3_0x183602[_0x43cad4(0x1e2)](_0x46cf67);
      if (_0x46655d == 0x1) await this[_0x43cad4(0x202)]();
      else
        _0x46655d == 0x2
          ? await this[_0x43cad4(0x20a)]()
          : (console[_0x43cad4(0x1ea)](_0x43cad4(0x1da)),
            await this["accountType"]());
    } catch (_0x1cfd16) {
      throw _0x1cfd16;
    }
  }
  async [a3_0x1b831e(0x1e6)](_0xd3a95d, _0x54ad63) {
    const _0x3f6a11 = a3_0x1b831e;
    try {
      this["proxy"] = _0x54ad63;
      const _0x4e166c = { connectionRetries: 0x5 };
      this[_0x3f6a11(0x203)] &&
        (_0x4e166c[_0x3f6a11(0x1e1)] = new HttpsProxyAgent(this["proxy"])),
        (this[_0x3f6a11(0x1d8)] = new StoreSession(_0xd3a95d)),
        (this[_0x3f6a11(0x1d6)] = new TelegramClient(
          this[_0x3f6a11(0x1d8)],
          Config[_0x3f6a11(0x1e7)],
          Config[_0x3f6a11(0x206)],
          _0x4e166c
        )),
        this["storeSession"]["save"](),
        await this["client"][_0x3f6a11(0x1db)]({
          phoneNumber: async () =>
            await a3_0x183602[_0x3f6a11(0x1e2)](
              "Enter\x20your\x20Telegram\x20Phone\x20Number\x20?"
            ),
          password: async () => await a3_0x183602["text"](_0x3f6a11(0x20e)),
          phoneCode: async () => await a3_0x183602["text"](_0x3f6a11(0x1ec)),
          onError: (_0x4da3fc) => {
            const _0x5f1854 = _0x3f6a11;
            console[_0x5f1854(0x1ea)](_0x4da3fc[_0x5f1854(0x20f)]);
          },
        }),
        console["log"]();
    } catch (_0x4515c3) {
      throw _0x4515c3;
    }
  }
  async [a3_0x1b831e(0x1f2)]() {
    const _0x5d5dae = a3_0x1b831e;
    try {
      a3_0x179fd6[_0x5d5dae(0x1fd)](
        _0x5d5dae(0x1fe) + this[_0x5d5dae(0x1fa)] + _0x5d5dae(0x1f4)
      );
      while (this["peer"] == undefined) {
        try {
          this[_0x5d5dae(0x1e4)] = await this[_0x5d5dae(0x1d6)][
            _0x5d5dae(0x210)
          ](this[_0x5d5dae(0x1dc)]);
          break;
        } catch (_0x536c5e) {
          if (_0x536c5e instanceof FloodWaitError) {
            const _0x1de47c = _0x536c5e[_0x5d5dae(0x1d2)];
            a3_0x179fd6[_0x5d5dae(0x205)](
              this[_0x5d5dae(0x1d6)]["session"][_0x5d5dae(0x1f0)] +
                _0x5d5dae(0x1f5) +
                _0x536c5e
            ),
              a3_0x179fd6[_0x5d5dae(0x1fd)](
                this[_0x5d5dae(0x1d6)][_0x5d5dae(0x1fa)][_0x5d5dae(0x1f0)] +
                  "\x20|\x20Sleep\x20" +
                  _0x1de47c +
                  "s"
              ),
              await Helper[_0x5d5dae(0x218)]((_0x1de47c + 0x3) * 0x3e8);
          } else throw _0x536c5e;
        }
      }
    } catch (_0x44f3d0) {
      throw _0x44f3d0;
    }
  }
  async [a3_0x1b831e(0x1f3)]() {
    const _0xa85c8f = a3_0x1b831e;
    await this[_0xa85c8f(0x1d6)][_0xa85c8f(0x1f3)](),
      await this[_0xa85c8f(0x1d6)]["destroy"](),
      (this[_0xa85c8f(0x1e4)] = undefined),
      (this[_0xa85c8f(0x1f9)] = undefined);
  }
  async [a3_0x1b831e(0x1c5)]() {
    const _0x1e8569 = a3_0x1b831e;
    try {
      const _0x54eddd = await this["client"][_0x1e8569(0x212)](
        new Api[_0x1e8569(0x1e8)]["RequestWebView"]({
          peer: this[_0x1e8569(0x1e4)],
          bot: this[_0x1e8569(0x1e4)],
          fromBotMenu: !![],
          url: this[_0x1e8569(0x217)],
          platform: _0x1e8569(0x1ca),
        })
      );
      a3_0x179fd6[_0x1e8569(0x1fd)](
        "Session\x20" + this["session"] + _0x1e8569(0x204)
      );
      const _0x447f6c = _0x54eddd["url"];
      return Helper[_0x1e8569(0x1eb)](_0x447f6c, 0x3);
    } catch (_0x5ba384) {
      throw _0x5ba384;
    }
  }
}
